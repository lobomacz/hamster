(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{X3zk:function(n,t,e){"use strict";e.r(t),e.d(t,"LoginPageModule",function(){return p});var o=e("ofXK"),i=e("3Pt+"),s=e("TEn/"),a=e("tyNb"),r=e("mrSG"),c=e("AytR"),l=e("fXoL"),d=e("lGQG");const u=["usuario"],b=["clave"],h=[{path:"",component:(()=>{class n{constructor(n,t,e){this._auth=n,this._router=t,this.toastCtrl=e,this.AppName=c.a.appName,this.ApiUrl=c.a.appUrl}ngOnInit(){}userLogin(){if(this.emailField.valid&&this.passwordField.valid){let n={username:this.nombreusuario,password:this.contrasena};this._auth.Autenticar(n).subscribe(t=>{let e=Object.assign({},t.body);e.password=n.password,this._auth.setAuthToken(this.nombreusuario,this.contrasena).then(()=>{this._auth.setSession(e).then(()=>{let n="\xa1HOLA, ".concat(e.first_name," ",e.last_name,"!").toUpperCase();this.welcomeToast(n)})})},n=>{console.error("Error: ".concat(n)),this.showToast(n)})}else this.showToast("Datos No V\xe1lidos")}showToast(n){return Object(r.a)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:n,position:"middle",duration:2e3})).present()})}welcomeToast(n){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.toastCtrl.create({message:n,position:"middle",duration:2e3});t.present(),t.onDidDismiss().then(()=>{this._router.navigateByUrl("/inicio")})})}}return n.\u0275fac=function(t){return new(t||n)(l.Jb(d.a),l.Jb(a.g),l.Jb(s.P))},n.\u0275cmp=l.Db({type:n,selectors:[["app-login"]],viewQuery:function(n,t){if(1&n&&(l.pc(u,1),l.pc(b,1)),2&n){let n;l.gc(n=l.Vb())&&(t.emailField=n.first),l.gc(n=l.Vb())&&(t.passwordField=n.first)}},decls:22,vars:3,consts:[[1,"login-content"],[1,"login-card"],[1,"login-item"],["type","email","maxlength","50","name","username","placeholder","Usuario","required","",3,"ngModel","ngModelChange"],["usuario","ngModel"],["slot","end","name","person-outline"],["type","password","name","password","maxlength","25","minlength","8","placeholder","Contrase\xf1a","required","",3,"ngModel","ngModelChange"],["clave","ngModel"],["slot","end","name","key-outline"],["expand","block",1,"login-button",3,"click"],["slot","end","name","enter-outline"]],template:function(n,t){1&n&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.lc(3),l.Lb(),l.Lb(),l.Lb(),l.Mb(4,"ion-content",0),l.Mb(5,"ion-card",1),l.Mb(6,"ion-card-header"),l.Mb(7,"ion-card-title"),l.lc(8," Ingreso de Usuarios "),l.Lb(),l.Lb(),l.Mb(9,"ion-card-content"),l.Mb(10,"ion-item",2),l.Mb(11,"ion-input",3,4),l.Ub("ngModelChange",function(n){return t.nombreusuario=n}),l.Lb(),l.Kb(13,"ion-icon",5),l.Lb(),l.Mb(14,"ion-item",2),l.Mb(15,"ion-input",6,7),l.Ub("ngModelChange",function(n){return t.contrasena=n}),l.Lb(),l.Kb(17,"ion-icon",8),l.Lb(),l.Kb(18,"ion-item",2),l.Mb(19,"ion-button",9),l.Ub("click",function(){return t.userLogin()}),l.lc(20,"Entrar "),l.Kb(21,"ion-icon",10),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&n&&(l.zb(3),l.nc("",t.AppName,"\u2014Login"),l.zb(8),l.cc("ngModel",t.nombreusuario),l.zb(4),l.cc("ngModel",t.contrasena))},directives:[s.q,s.I,s.H,s.n,s.h,s.j,s.l,s.i,s.t,s.s,s.O,i.b,i.i,i.f,i.g,s.r,i.c,s.f],styles:[".login-button[_ngcontent-%COMP%]{width:40%;margin:.5em auto}.login-content[_ngcontent-%COMP%]{position:relative}.login-card[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media screen and (max-width:80em){.login-card[_ngcontent-%COMP%]{width:80%}}@media screen and (min-width:79em){.login-card[_ngcontent-%COMP%]{width:30%}}.login-item[_ngcontent-%COMP%]:not(:first-child){margin-top:2rem}"]}),n})()}];let m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[a.i.forChild(h)],a.i]}),n})(),p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[o.b,i.a,s.J,m]]}),n})()}}]);